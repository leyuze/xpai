---
title: Linux文件管理指令
date: 2021-06-18 19:31:09
permalink: /pages/eea7a7/
categories:
  - 后端
  - Linux运维和测试
tags:
  - 
---
## 1 基本命令

```
1 创建文件：

# 在Linux系统中创建test.txt
touch test.txt

2 创建文件夹

# 创建一个文件夹
mkdir /root/python
    参数：
        -p : 递归创建目录
             mkdir -p /aa/bb/cc
        -v : 显示创建的过程
             mkdir -p -v /aaa/bbb/ccc

3 查看文件夹下面的文件

# 查看文件需要跟对应的路径
# Linux中最顶级目录是根目录:/

# 根目录(最顶级目录):/
# 根目录下有哪些内容：
ls /

# 查看文件的详细信息
ls -l   等价于 ll

4 查看当前所在路径

# pwd命令查看的所有路径都是从根目录(/)开始的
pwd

5 切换目录

cd
# 以绝对路径的方式切换路径(从根目录开始)
例：cd /etc
   pwd
   ==>/etc
   
# 以相对路径方式切换目录
# .和..

# .  : 在任何目录下都代表当前目录
# .. : 在任何目录下都代表上一级目录(顶级目录除外)

# cd命令切换的默认目录为家目录(~ : 在Linux当中指的是当前用户的家目录)
[root@localhost ~]#
[用户名@主机名 当前所在的目录]

6 修改主机名(重新进入系统才会生效)

hostnamectl set-hostname python(新主机名)

7 退出登录

exit

8 移动文件

mv    # mv 原路径 移动后的路径

9 复制文件

cp    # cp 参数 原路径 移动后的路径(如果在该文件当前路径，原路径可忽略./直接写文件名)
      
      参数：
      -r : 递归复制(常用于复制目录)

10 删除文件

rm    # 有二次确认

      参数:
      -r : 递归删除文件(删除目录)
      rm -r 目录
      -f : 免去删除提示(二次确认)
      rm -r -f 目录
      
11 打印命令

echo "打印的内容"

12 打印出当前系统中所有的变量

printenv

13 重定向符号

> 和 >>

>  : 覆盖重定向(先删除文件原内容，后写入新内容到文件)
    echo "Hello China" > test.txt

>> : 追加重定向(原来的内容不动，后写的新内容从底部插入)
    echo "Hello World" >> test.txt

14 查看文件内容

cat test.txt

15 隐藏文件

# 文件名以.开头的就是隐藏文件

      参数：
      -a : 查看隐藏文件
      [root@localhost ~]# ls -a
      .  ..  .bash_logout  .bash_profile
      
      -l : 查看文件详细信息
         -rw-r--r--. 1 root root 24 6月  11 16:26 test.txt
         -rw-r--r--    : 文件权限
         (第一个)root   : 所属用户
         (第二个)root   : 所属组
         24            : 文件大小
         6月 11 16：26  : 创建时间
         test.txt      : 文件名称
       -h : 以方便查看方式查看文件大小(必须配合-l参数)
       
16 重启系统

reboot : 重启系统

17 关机

shutdown -h now : 立即关机
shutdown -h 2   : 两秒后关机

18 alias      # 别名

alias ll='\ls -l -a --color=auto'

19 从头查看文件内容

head    # 从头查看文件内容
        参数
        -n : 设置显示头几行
    
20 从尾查看文件内容 

tail    # 从尾查看文件内容
        参数
        -n : 设置显示末尾几行
        -f : 实时查看文件内容
    
21 查看目录树 

tree    # 查看目录树(需要先安装tree命令，执行yum install tree -y)
        参数
        -a 目录   : 显示所有文件，包括隐藏文件
        -d 目录   : 只显示子目录
        -L 1 目录 : -L 遍历目录的最大层数，-L后应该是大于0的正整数
        -F 目录   : -F 在条目后加上文件类型的指示符号，例如会在显示出的目录后面加上左斜杠/
    
22 过滤

grep    # 针对文件内容进行过滤

23 修改文件权限

chmod   # 修改文件权限
    chmod 权限 文件路径

24 修改所属用户及用户组

chown   # 修改所属用户及用户组
    chown 用户.用户组 文件路径
```

## 2 vi与vim编辑器

```
# 三大操作模式
    1 命令行模式 : 在编辑模式下按下ESC键返回命令行模式
    2 编辑/插入模式 : 输入a、i、o之一
    3 扩展/末行模式 : 输入冒号:
    
# 命令行模式(进入vim的默认/初始模式)

1 查找
    
    在命令行模式下按下键盘上的/，然后输入要查询的内容，搜索到内容之后，光标自动定位并设置颜色
    
2 复制
    
    2.1 连续按y键两次，复制当前光标所在行，p键粘贴(小p粘贴到下一行，大P粘贴到上一行)
    2.2 先按y键两次，然后按一个数字num，p键粘贴(小p粘贴到下num行，大P粘贴到上num行)
    
3 删除
    
    3.1 进入插入模式，像修改文本一样去删除文件
    3.2 连续按d键两次，删除一行内容
    3.3 先按一个数字num，再按d键两次,向下删除num行
    3.4 x : 删除光标包含的内容

4 撤回
    
    u : 返回上一步，只在同一次编辑中有效
    U : 还原上一步

5 移动
    $ : 光标移动到当前行的行尾
    0 : 光标移动到当前行的行首
    G : 光标移动到这个文件的最后一行
    gg: 光标移动到这个文件的第一行
    H : 光标移动到第一行的行首
    M : 光标移动到中间行的行首
    L : 光标移动到最后一行的行首

====================================================================

# 编辑/插入模式

1 进入编辑/插入模式

"i"                在光标所在位置插入字符
"I"                在光标所在行的行首插入字符
"o"                在光标所在行的下一行新行插入字符
"O"                在光标所在行的上以行新行插入
"s"                删除光标所在字符并插入字符
"S"                删除光标所在行并插入字符
"a"                光标所在字符的下一个字符插入
"A"                光标所在行的行尾插入字符

2 修改/删除

像正常修改文本一样

====================================================================

# 末行/扩展模式

1 保存退出

    :w   保存
    :q   退出
    :wq  保存并退出
    :w!  强制保存
    :q!  不保存并退出
    :wq! 强制保存退出
    :x   保存并退出
    
2 查找替换
    :n   定位到某一行
    :开始位置，结束位置 s/被替换的内容/替换的内容/g   (g表示全局)
    (遇到路径需要\转义)
    :2,10 s/Hello/nihao   ---> 从第二行开始，到第十行结束
    :2，$ s/Hello/nihao   ---> 从第二行开始，到最后($表示全文)
    :% s/Hello/nihao      ---> 全文替换

3 临时设置
    :set nu     设置行号
    :set ic     不区分大小写
    :set ai     自动缩进(有时候没有效果)
    :set nonu   取消设置行号
    
====================================================================

# 同时编辑多个文件

1 同时编辑多个文件
    vim -o : 水平分割
    vim -O : 垂直分割

# 文件内容对比

1 同时对比编辑两个不同文件
    vimdiff 文件1 文件2
    Ctrl + ww : 切换屏幕
    注意：有几个文件则保存几次

```

